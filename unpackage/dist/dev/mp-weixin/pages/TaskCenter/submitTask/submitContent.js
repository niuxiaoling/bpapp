require("../../../common/manifest.js");
require("../../../common/vendor.js");
global.webpackJsonp([17],{52:function(e,t,s){"use strict";var o=a(s(1)),i=a(s(53));function a(e){return e&&e.__esModule?e:{default:e}}Page((0,o.default)(i.default))},53:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=s(55),i=s.n(o),a=s(56),n=!1;var r=function(e){n||s(54)},c=s(0)(i.a,a.a,r,null,null);c.options.__file="C:\\Users\\Administrator\\Desktop\\WP2\\bpapp\\pages\\TaskCenter\\submitTask\\submitContent.vue",c.esModule&&Object.keys(c.esModule).some(function(e){return"default"!==e&&"__"!==e.substr(0,2)})&&console.error("named exports are not supported in *.vue files."),c.options.functional&&console.error("[vue-loader] submitContent.vue: functional components are not supported with templates, they should use render functions."),t.default=c.exports},54:function(e,t){},55:function(e,t,s){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default={data:function(){return{uploadimg:"",tasksDetails:{taskTitle:"",copyWriting:"",picId:"",picId2:"",taskIdentifier:"",statusTask:""},copyImages:[],orderInfo:{taskIdentifier:"",account:"",orderNo:""},order:{}}},onLoad:function(t){var s=JSON.parse(t.task);this.tasksDetails.taskTitle=s.taskInfo.taskTitle,this.orderInfo.taskIdentifier=s.taskInfo.taskIdentifier,this.orderInfo.orderNo=s.orderNo,this.orderInfo.account=e.getStorageSync("userInfo").account},methods:{chooseImg:function(){var t=this;e.chooseImage({sourceType:["camera","album"],sizeType:"compressed",count:1,success:function(s){e.request({url:s.tempFilePaths[0],method:"GET",responseType:"arraybuffer",success:function(s){var o={taskInfo:{picBast64:wx.arrayBufferToBase64(s.data),upType:"pic"},requestType:"upFile"},i={controllerRequestType:"taskControllerService",jsonString:JSON.stringify(o)};e.request({url:t.websiteUrl,method:"POST",header:{"content-type":"application/x-www-form-urlencoded"},data:i,success:function(e){"0000"==e.data.errorCode&&t.picId.push(e.data.taskInfo.picId)},fail:function(e){console.log(JSON.stringify(e))}})}}),t.uploadimg=s.tempFilePaths[0],t.$emit("change",t.uploadimg)}})},previewImage:function(){e.previewImage({urls:[this.uploadimg]})},removeImage:function(t){var s=this;e.showModal({content:"确认删除选中的图片？",success:function(){s.uploadimg=""}})},getTask:function(){var t={orderInfo:this.orderInfo,requestType:"finishOrde"},s={controllerRequestType:"orderControllerService",jsonString:JSON.stringify(t)};e.request({url:this.websiteUrl,method:"POST",header:{"content-type":"application/x-www-form-urlencoded"},data:s,success:function(t){console.log(t.data),"0000"==t.data.errorCode?e.showModal({content:"您已经提交任务,请等待管理员审核",success:function(e){e.confirm,e.cancel}}):e.showToast({icon:"none",title:t.data.errorMessage})},fail:function(t){e.showToast({icon:"none",title:"网络异常！请稍后重试"})}})}}}}).call(t,s(2).default)},56:function(e,t,s){"use strict";var o=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("view",[s("view",{staticClass:"item-list"},[s("text",[e._v("1.提交的任务:")]),s("text",[e._v(e._s(e.tasksDetails.taskTitle))])]),e._m(0),s("view",{staticClass:"item-list"},[s("view",{staticClass:"btn-upload",attrs:{eventid:"gIn-0"},on:{tap:e.chooseImg}},[e._v("请选择图片")])]),s("view",{staticClass:"imgbox"},[s("image",{staticClass:"imgbox-img",attrs:{src:e.uploadimg,mode:"aspectFit",eventid:"XFg-1"},on:{tap:e.previewImage,longpress:function(t){e.removeImage(e.image)}}})]),""!=e.uploadimg?s("view",[s("button",{staticClass:"getTasks",attrs:{eventid:"eJq-2"},on:{tap:e.getTask}},[e._v("提交")])],1):e._e(),e._m(1)])};o._withStripped=!0;var i={render:o,staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("view",{staticClass:"item-list"},[t("text",[this._v("2.截取朋友圈图片并上传:")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("view",{staticClass:"Taskhint"},[t("image",{attrs:{src:"../../../static/img/Taskhint.jpg",mode:"widthFix"}})])}]};t.a=i}},[52]);
//# sourceMappingURL=../../../../.sourcemap/mp-weixin/pages/TaskCenter/submitTask/submitContent.js.map